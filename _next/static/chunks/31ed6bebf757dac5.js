(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44355,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),a=e.i(18566);function i(e,s){return(0,t.jsx)("button",{onClick:e.onClick,className:`px-5 py-2 rounded-lg ${e.className||"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.text},s)}e.s(["default",0,e=>{let n,r,o,d,c,m,u,h,x,g,b=(0,s.c)(33),{title:p,message:f,buttons:y,terms:j,onClose:v}=e,[N,S]=(0,l.useState)(null),w=(0,a.useRouter)();b[0]!==v||b[1]!==w||b[2]!==N?(n=()=>{N&&(w.push(`/new-term?existing-submission-term-id=${N}`),v())},b[0]=v,b[1]=w,b[2]=N,b[3]=n):n=b[3];let _=n;b[4]!==v||b[5]!==w||b[6]!==j?(r=()=>{j&&j.length>0&&(w.push(`/new-term?name=${encodeURIComponent(j[0].id.split("-")[0])}`),v())},b[4]=v,b[5]=w,b[6]=j,b[7]=r):r=b[7];let T=r;return b[8]!==p?(o=(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:p})}),b[8]=p,b[9]=o):o=b[9],b[10]!==f?(d=(0,t.jsx)("p",{className:"text-gray-600",children:f}),b[10]=f,b[11]=d):d=b[11],b[12]!==N||b[13]!==j?(c=j&&j.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Select one of the existing meanings to add a translation, or create an alternative meaning."}),j.map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",id:e.id,name:"term-selection",value:e.id,checked:N===e.id,onChange:e=>S(e.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,t.jsxs)("label",{htmlFor:e.id,className:"ml-3 block text-sm font-medium text-gray-700",children:["(",e.pos,") ",e.description]})]},e.id))]}),b[12]=N,b[13]=j,b[14]=c):c=b[14],b[15]!==d||b[16]!==c?(m=(0,t.jsxs)("div",{className:"p-6",children:[d,c]}),b[15]=d,b[16]=c,b[17]=m):m=b[17],b[18]!==y||b[19]!==T||b[20]!==_||b[21]!==N||b[22]!==j?(u=j&&j.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:_,className:"px-5 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:!N,children:"Translate"}),(0,t.jsx)("button",{onClick:T,className:"px-5 py-2 rounded-lg bg-gray-600 text-white hover:bg-gray-700",children:"Alternative Meaning"})]}):y?.map(i),b[18]=y,b[19]=T,b[20]=_,b[21]=N,b[22]=j,b[23]=u):u=b[23],b[24]!==v?(h=(0,t.jsx)("button",{onClick:v,className:"px-5 py-2 text-gray-700 bg-white border rounded-lg hover:bg-gray-50",children:"Cancel"}),b[24]=v,b[25]=h):h=b[25],b[26]!==u||b[27]!==h?(x=(0,t.jsx)("div",{className:"p-6 bg-gray-50 rounded-b-lg",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[u,h]})}),b[26]=u,b[27]=h,b[28]=x):x=b[28],b[29]!==o||b[30]!==m||b[31]!==x?(g=(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[o,m,x]})}),b[29]=o,b[30]=m,b[31]=x,b[32]=g):g=b[32],g}])},73942,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),a=e.i(18566),i=e.i(22016),n=e.i(30314),r=e.i(25660),o=e.i(82740),d=e.i(8587),c=e.i(75157),m=e.i(44355);function u(){let e,c,u,y,j,v,N,S,w,_,T,C,k,E,R,A,W,M,P,B,F,Q,$,L,D,I,U,O,q,K,Y,z,V,G,H,J,X,Z=(0,s.c)(78),ee=(0,a.useRouter)(),et=(0,a.useSearchParams)();Z[0]!==et?(e=et.get("name")||"",Z[0]=et,Z[1]=e):e=Z[1];let es=e;Z[2]!==et?(c=et.get("existing-submission-term-id"),Z[2]=et,Z[3]=c):c=Z[3];let el=c,{showToast:ea}=(0,r.useToast)(),[ei,en]=(0,l.useState)(es),[er,eo]=(0,l.useState)(""),[ed,ec]=(0,l.useState)(""),[em,eu]=(0,l.useState)("");Z[4]===Symbol.for("react.memo_cache_sentinel")?(u=[],Z[4]=u):u=Z[4];let[eh,ex]=(0,l.useState)(u),[eg,eb]=(0,l.useState)(null);Z[5]===Symbol.for("react.memo_cache_sentinel")?(y=[],Z[5]=y):y=Z[5];let[ep,ef]=(0,l.useState)(y);Z[6]===Symbol.for("react.memo_cache_sentinel")?(j=[],Z[6]=j):j=Z[6];let[ey,ej]=(0,l.useState)(j),[ev,eN]=(0,l.useState)(!1),[eS,ew]=(0,l.useState)(!1),[e_,eT]=(0,l.useState)(null),[eC,ek]=(0,l.useState)(!1);Z[7]!==el||Z[8]!==es?(v=()=>{let e,t=(0,n.getQueue)();if(el)e=t.filter(f).find(e=>e.payload.id===el);else if(es&&es.trim()){en(es),eo(""),ec(""),ej([]),eb(null);return}if(e){let s=e.payload;eb(s),en(s.id.split("-")[0]),eo(s.pos),ec(s.description),ej(t.filter(e=>"NEW_ENTRY"===e.type&&e.payload.termId===s.id).map(p))}else eb(null),ej([]),en(es),eo(""),ec("")},N=[el,es],Z[7]=el,Z[8]=es,Z[9]=v,Z[10]=N):(v=Z[9],N=Z[10]),(0,l.useEffect)(v,N),Z[11]!==ed||Z[12]!==ei?(S=()=>{let e=(0,n.getQueue)(),t=ei.trim();t&&ed?ek(!!e.filter(b).find(e=>e.payload.id.startsWith(t.toLowerCase().replace(/\s+/g,"-"))&&e.payload.description===ed)):ek(!1)},w=[ei,ed],Z[11]=ed,Z[12]=ei,Z[13]=S,Z[14]=w):(S=Z[13],w=Z[14]),(0,l.useEffect)(S,w),Z[15]!==em?(T=()=>{em.trim()?ex((0,o.validateNounPhrase)(em)):ex([])},_=[em],Z[15]=em,Z[16]=_,Z[17]=T):(_=Z[16],T=Z[17]),(0,l.useEffect)(T,_),Z[18]!==eg||Z[19]!==eh||Z[20]!==em||Z[21]!==ey?(C=e=>{if(e.preventDefault(),!em.trim()||eh.length>0||!eg)return;let t=(0,d.encode)(em),s={id:(0,d.encodeToSnakeCaseSyllabary)(t),termId:eg.id,contents:t,created:new Date().toISOString()};(0,n.addToQueue)({type:"NEW_ENTRY",payload:s}),ej([...ey,s]),eu("")},Z[18]=eg,Z[19]=eh,Z[20]=em,Z[21]=ey,Z[22]=C):C=Z[22];let eE=C;Z[23]!==ed||Z[24]!==er||Z[25]!==ea||Z[26]!==ei?(k=e=>{e.preventDefault();let t=ei.trim();if(t){let e=(0,n.getQueue)().filter(e=>"NEW_TERM"===e.type&&e.payload.id.startsWith(t.toLowerCase().replace(/\s+/g,"-")));if(e.length>0){1===e.length&&e[0].payload.description===ed||(1===e.length?eb(e[0].payload):ef(e.map(g)),ew(!0));return}}if(!ei||!er||!ed)return void ea("Please fill out all fields.","error");let s={id:`${ei.toLowerCase().replace(/\s+/g,"-")}-${Math.random().toString(36).substring(2,7)}`,pos:er,description:ed};(0,n.addToQueue)({type:"NEW_TERM",payload:s}),eT(s),eN(!0)},Z[23]=ed,Z[24]=er,Z[25]=ea,Z[26]=ei,Z[27]=k):k=Z[27];let eR=k;Z[28]!==e_||Z[29]!==ee||Z[30]!==ev?(E=ev&&e_&&(0,t.jsx)(m.default,{title:"Term Added",message:"Would you like to add a translation for this term?",buttons:[{text:"Translate",onClick:()=>{eN(!1),ee.push(`/new-term?existing-submission-term-id=${e_.id}`)}}],onClose:()=>{eN(!1),ee.push("/")}}),Z[28]=e_,Z[29]=ee,Z[30]=ev,Z[31]=E):E=Z[31],Z[32]!==ep||Z[33]!==eg||Z[34]!==eS?(R=eS&&(0,t.jsx)(m.default,{title:"Term Exists",message:"This term is already in the submission queue.",terms:ep.length>0?ep:eg?[eg]:[],onClose:()=>{ew(!1),ef([]),eb(null)}}),Z[32]=ep,Z[33]=eg,Z[34]=eS,Z[35]=R):R=Z[35],Z[36]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)(i.default,{href:"/",className:"mb-4 block text-sm text-blue-600 hover:underline",children:"â† Back to all terms"}),Z[36]=A):A=Z[36],Z[37]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Add a New Term Meaning"}),M=(0,t.jsx)("p",{className:"mt-1 text-gray-500",children:'This will create a new, distinct entry. (e.g., "Bank" as a noun "a financial institution" vs. "Bank" as a noun "a river side").'}),Z[37]=W,Z[38]=M):(W=Z[37],M=Z[38]),Z[39]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)("label",{htmlFor:"term-name",className:"block text-sm font-medium text-gray-700",children:" Term "}),Z[39]=P):P=Z[39],Z[40]===Symbol.for("react.memo_cache_sentinel")?(B=e=>en(e.target.value),Z[40]=B):B=Z[40],Z[41]!==ei?(F=(0,t.jsxs)("div",{children:[P,(0,t.jsx)("input",{type:"text",id:"term-name",value:ei,onChange:B,className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-2 focus:ring-blue-500"})]}),Z[41]=ei,Z[42]=F):F=Z[42],Z[43]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,t.jsx)("label",{htmlFor:"pos",className:"block text-sm font-medium text-gray-700",children:" Part of Speech "}),Z[43]=Q):Q=Z[43],Z[44]===Symbol.for("react.memo_cache_sentinel")?($=e=>eo(e.target.value),Z[44]=$):$=Z[44],Z[45]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsx)("option",{value:"",children:"-- Select --"}),D=(0,t.jsx)("option",{value:"noun",children:"Noun (n.)"}),I=(0,t.jsx)("option",{value:"adjective",children:"Adjective (adj.)"}),U=(0,t.jsx)("option",{value:"verb",children:"Verb (v.)"}),O=(0,t.jsx)("option",{value:"adverb",children:"Adverb (adv.)"}),Z[45]=L,Z[46]=D,Z[47]=I,Z[48]=U,Z[49]=O):(L=Z[45],D=Z[46],I=Z[47],U=Z[48],O=Z[49]),Z[50]!==er?(q=(0,t.jsxs)("div",{children:[Q,(0,t.jsxs)("select",{id:"pos",value:er,onChange:$,className:"mt-1 w-full rounded-lg border border-gray-300 bg-white p-2",children:[L,D,I,U,O]})]}),Z[50]=er,Z[51]=q):q=Z[51],Z[52]===Symbol.for("react.memo_cache_sentinel")?(K=(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:" Brief English Description "}),Z[52]=K):K=Z[52],Z[53]===Symbol.for("react.memo_cache_sentinel")?(Y=e=>ec(e.target.value),Z[53]=Y):Y=Z[53],Z[54]!==ed?(z=(0,t.jsxs)("div",{children:[K,(0,t.jsx)("textarea",{id:"description",rows:3,value:ed,onChange:Y,placeholder:"e.g., 'Lasting for a very short time.'",className:"mt-1 w-full rounded-lg border border-gray-300 p-2"})]}),Z[54]=ed,Z[55]=z):z=Z[55];let eA=eC||!ei||!er||!ed,eW=eC?"Already in submission queue":"Add to Submission Queue";return Z[56]!==eA||Z[57]!==eW?(V=(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full rounded-lg bg-blue-600 px-6 py-3 font-medium text-white hover:bg-blue-700 disabled:opacity-50",disabled:eA,children:eW})}),Z[56]=eA,Z[57]=eW,Z[58]=V):V=Z[58],Z[59]!==eR||Z[60]!==F||Z[61]!==q||Z[62]!==z||Z[63]!==V?(G=(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[W,M,(0,t.jsxs)("form",{onSubmit:eR,className:"mt-6 space-y-4",children:[F,q,z,V]})]}),Z[59]=eR,Z[60]=F,Z[61]=q,Z[62]=z,Z[63]=V,Z[64]=G):G=Z[64],Z[65]!==eg||Z[66]!==eE||Z[67]!==eh||Z[68]!==em||Z[69]!==ey?(H=eg&&(0,t.jsxs)("div",{className:"mt-8 rounded-lg border border-gray-200 bg-white p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold",children:['Translations for "',eg.id.split("-")[0],'"']}),(0,t.jsxs)("p",{className:"mt-1 text-gray-500 italic",children:['"',eg.description,'"']}),(0,t.jsxs)("form",{onSubmit:eE,className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"translation",className:"block text-sm font-medium text-gray-700",children:" New Translation "}),(0,t.jsx)("input",{spellCheck:"false",type:"text",id:"translation",value:em,onChange:e=>eu(e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-2 focus:ring-blue-500"}),eh.length>0&&(0,t.jsx)("div",{className:"mt-2 text-sm text-red-600",children:(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{children:"Syntax errors found"}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:eh.map(x)})]})})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full rounded-lg bg-green-600 px-6 py-3 font-medium text-white hover:bg-green-700",disabled:!em.trim()||eh.length>0,children:"Add Translation"})})]}),ey.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Pending Translations:"}),(0,t.jsx)("ul",{className:"list-disc list-inside mt-2",children:ey.map(h)})]})]}),Z[65]=eg,Z[66]=eE,Z[67]=eh,Z[68]=em,Z[69]=ey,Z[70]=H):H=Z[70],Z[71]!==G||Z[72]!==H?(J=(0,t.jsxs)("div",{className:"mx-auto max-w-xl",children:[A,G,H]}),Z[71]=G,Z[72]=H,Z[73]=J):J=Z[73],Z[74]!==E||Z[75]!==R||Z[76]!==J?(X=(0,t.jsxs)("main",{className:"container mx-auto mt-8 p-4",children:[E,R,J]}),Z[74]=E,Z[75]=R,Z[76]=J,Z[77]=X):X=Z[77],X}function h(e){return(0,t.jsx)("li",{children:(0,d.decode)(e.contents,"latin")},e.id)}function x(e,s){return(0,t.jsx)("li",{children:(0,c.decodeUnicode)(e.msg)},s)}function g(e){return e.payload}function b(e){return"NEW_TERM"===e.type}function p(e){return e.payload}function f(e){return"NEW_TERM"===e.type}function y(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(u,{})}),a[0]=e):e=a[0],e}e.s(["default",()=>y])}]);