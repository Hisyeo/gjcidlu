(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82072,e=>{"use strict";var t=e.i(43476),d=e.i(71645),s=e.i(8587),r=e.i(30314),a=e.i(25660);function o({term:e,initialEntries:o}){let[n,l]=(0,d.useState)(""),[i,u]=(0,d.useState)([]),{showToast:c}=(0,a.useToast)();return(0,d.useEffect)(()=>{let e=()=>u((0,r.getQueue)());return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!n.trim())return;let d=(0,s.encode)(n),a=(0,s.encodeToSnakeCaseSyllabary)(d),u=o.some(e=>e.id===a),m=i.some(e=>"NEW_ENTRY"===e.type&&e.payload.id===a);if(u||m)return void c("This translation has already been submitted.","error");let p={id:a,termId:e.id,contents:d};(0,r.addToQueue)({type:"NEW_ENTRY",payload:{...p}}),l(""),c("Translation added to queue!","success")},children:[(0,t.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),placeholder:"Add your Hîsyêô translation...",className:"w-full rounded-lg border border-gray-300 p-3"}),(0,t.jsx)("button",{type:"submit",className:"mt-2 w-full rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add to Submission Queue"})]})}),(0,t.jsx)("div",{className:"mx-auto max-w-2xl",children:(0,t.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold",children:["All Translations (",o.length,")"]}),o.map(d=>(0,t.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-2xl font-medium text-gray-900",children:(0,s.decode)(d.contents)}),(0,t.jsxs)("button",{className:"flex items-center space-x-1 rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 hover:text-blue-600",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,t.jsx)("span",{children:"Modify"})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["overall","minimal","specific","humorous"].map(a=>{var n;let l,u=(l=d.id,i.some(t=>"VOTE"===t.type&&t.payload.termId===e.id&&t.payload.voteType===a&&t.payload.entryId===l));return(0,t.jsxs)("button",{onClick:()=>{var t;let n,l,u,m;return t=d.id,(n=i.find(t=>"VOTE"===t.type&&t.payload.termId===e.id&&t.payload.voteType===a))&&(0,r.removeFromQueue)(n.id),l={termId:e.id,entryId:t,voteType:a},(0,r.addToQueue)({type:"VOTE",payload:{...l}}),m=(u=o.find(e=>e.id===t))?(0,s.decode)(u.contents):t,void c(`Vote for '${a}' on entry '${m}' added to queue!`,"success")},className:u?"bg-blue-500 text-white px-3 py-1 text-sm rounded-md":"border border-gray-400 px-3 py-1 text-sm rounded-md",children:[a.charAt(0).toUpperCase()+a.slice(1)," (",(n=d.id,(o.find(e=>e.id===n)?.votes[a]??0)+i.filter(e=>"VOTE"===e.type&&e.payload.entryId===n&&e.payload.voteType===a).length),")"]},a)})})]},d.id))]})})]})}e.s(["default",()=>o])}]);