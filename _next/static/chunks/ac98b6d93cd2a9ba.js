(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18073,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(932),s=e.i(71645),l=e.i(22016),n=e.i(19987),a=e.i(80314),i=e.i(25660),o=e.i(31925),c=e.i(30314),d=e.i(75157),u=e.i(94868),m=e.i(16148),h=e.i(82740),p=e.i(30911),x=e.i(8587);function g(e){let l,n,a,i,o,d,u,g,E,T,_=(0,r.c)(22),{terms:C}=e;_[0]===Symbol.for("react.memo_cache_sentinel")?(l={},_[0]=l):l=_[0];let[I,$]=(0,s.useState)(l),{addToQueue:U}=(0,p.useQueue)();_[1]===Symbol.for("react.memo_cache_sentinel")?(n=[],_[1]=n):n=_[1];let[L,O]=(0,s.useState)(n);if(_[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{let e=()=>O((0,c.getQueue)());return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},i=[],_[2]=a,_[3]=i):(a=_[2],i=_[3]),(0,s.useEffect)(a,i),_[4]!==L||_[5]!==C){let e=L.filter(S).map(w),t=L.filter(N).map(v);o=Array.from(new Map([...C,...e.map(j)].map(y)).values()).filter(e=>{let r=(0,m.getEntriesForTerm)(e.id).length>0,s=t.some(t=>t.termId===e.id);return!r&&!s}),_[4]=L,_[5]=C,_[6]=o}else o=_[6];let R=o;_[7]===Symbol.for("react.memo_cache_sentinel")?(d=(e,t)=>{let r=(0,h.validateNounPhrase)(t);$(s=>({...s,[e]:{value:t,errors:r}}))},_[7]=d):d=_[7];let k=d;_[8]!==U||_[9]!==I||_[10]!==R?(u=()=>{Object.entries(I).forEach(e=>{let[t,r]=e,{value:s,errors:l}=r;if(s&&0===l.length){let e=R.find(e=>e.id===t);if(e){let t=(0,x.encode)(s);U({type:"NEW_ENTRY",payload:{id:(0,x.encodeToSnakeCaseSyllabary)(t),termId:e.id,contents:t,created:new Date().toISOString()}})}}})},_[8]=U,_[9]=I,_[10]=R,_[11]=u):u=_[11];let A=u,M=Object.values(I).every(b);if(0===R.length){let e;return _[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"text-center py-10",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No untranslated terms found."})}),_[12]=e):e=_[12],e}let D=!M;return _[13]!==A||_[14]!==D?(g=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:A,disabled:D,className:"rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:"Save All to Queue"})}),_[13]=A,_[14]=D,_[15]=g):g=_[15],_[16]!==I||_[17]!==R?(E=R.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:e.id.split("-")[0]}),(0,t.jsxs)("p",{className:"mb-1 font-mono text-gray-500",children:["(",e.pos.slice(0,1),".)"]}),(0,t.jsx)("p",{className:"mb-4 text-gray-700 italic",children:e.description}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("input",{type:"text",spellCheck:"false",placeholder:"Enter translation...",value:I[e.id]?.value||"",onChange:t=>k(e.id,t.target.value),className:`w-full rounded-lg border p-3 focus:ring-2 focus:outline-none ${I[e.id]?.errors.length>0?"border-red-500 ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),I[e.id]?.errors.map(f)]})]},e.id)),_[16]=I,_[17]=R,_[18]=E):E=_[18],_[19]!==E||_[20]!==g?(T=(0,t.jsxs)("div",{className:"space-y-8",children:[g,E]}),_[19]=E,_[20]=g,_[21]=T):T=_[21],T}function f(e,r){return(0,t.jsxs)("div",{className:"text-red-500 text-sm mt-1",children:["Error at line ",e.line,", column ",e.column,": ",(0,d.decodeUnicode)(e.msg)]},r)}function b(e){let{value:t,errors:r}=e;return!t||0===r.length}function y(e){return[e.id,e]}function j(e){return{...e,topTranslations:{overall:null,minimal:null,specific:null,humorous:null},latestEntryDate:new Date().toISOString(),totalTranslationsCount:0}}function v(e){return e.payload}function N(e){return"NEW_ENTRY"===e.type}function w(e){return e.payload}function S(e){return"NEW_TERM"===e.type}let E="pendingSubmissionsCache";function T(e){let m,h,p,f,b,y,j,v,N,w,S,T,O,R,k,A,M,D,P,W,F,Q,Y,B,H=(0,r.c)(70),{initialTerms:V}=e,[J,K]=(0,s.useState)(""),[z,G]=(0,s.useState)(""),[q,X]=(0,s.useState)(10),{showUntranslated:Z}=(0,n.useAppContext)(),{settings:ee}=(0,a.useSettings)(),{showToast:et}=(0,i.useToast)();H[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],H[0]=m):m=H[0];let[er,es]=(0,s.useState)(m);H[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],H[1]=h):h=H[1];let[el,en]=(0,s.useState)(h),[ea,ei]=(0,s.useState)(!1),eo=(0,s.useRef)(null);H[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{ei(!0);let e=()=>en((0,c.getQueue)());return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},f=[],H[2]=p,H[3]=f):(p=H[2],f=H[3]),(0,s.useEffect)(p,f),H[4]!==J?(b=()=>{let e=setTimeout(()=>{G(J)},300);return()=>{clearTimeout(e)}},y=[J],H[4]=J,H[5]=b,H[6]=y):(b=H[5],y=H[6]),(0,s.useEffect)(b,y),H[7]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{eo.current&&eo.current.disconnect(),eo.current=new IntersectionObserver(e=>{e[0].isIntersecting&&X(L)}),e&&eo.current.observe(e)},H[7]=j):j=H[7];let ec=j;H[8]!==V||H[9]!==et?(v=()=>{(async()=>{es([]);let e=[];try{e=(await (0,o.getPendingSubmissions)("https://github.com/hisyeo/gjcidlu")).submissions,localStorage.setItem(E,JSON.stringify(e))}catch(t){console.error("Error fetching pending submissions:",t),"object"==typeof t&&null!==t&&"isRateLimitError"in t&&t.isRateLimitError?et("GitHub API rate limit exceeded. Using cached pending data.","error"):et("Failed to fetch pending data. Using cached data if available.","error");try{let t=localStorage.getItem(E);t&&(e=JSON.parse(t))}catch(e){console.error("Failed to read from localStorage:",e)}}let t=new Set(V.map(U));es(e.reduce((e,r)=>{let s=r.newTerms?.filter(e=>!t.has(e.id)),l=r.newEntries?.filter(e=>!t.has(e.termId));return(s?.length||l?.length)&&e.push({...r,newTerms:s,newEntries:l}),e},[]))})()},N=[V,et],H[8]=V,H[9]=et,H[10]=v,H[11]=N):(v=H[10],N=H[11]),(0,s.useEffect)(v,N),H[12]!==ee.userId||H[13]!==ee.userSystem?(w=ee.userSystem&&ee.userId?`${ee.userSystem.toLowerCase()}:${ee.userId}`:null,H[12]=ee.userId,H[13]=ee.userSystem,H[14]=w):w=H[14];let ed=w;if(H[15]!==ed||H[16]!==V||H[17]!==er){let e=new Map,t=new Map;er.forEach(r=>{let s=(r.author?`${r.author.system.toLowerCase()}:${r.author.id}`:null)===ed;r.newTerms?.forEach(t=>{e.set(t.id,{...t,status:"pending",prUrl:r.prUrl,topTranslations:{overall:null,minimal:null,specific:null,humorous:null},isCurrentUserSubmitter:s,latestEntryDate:new Date().toISOString(),totalTranslationsCount:0})}),r.newEntries?.forEach(e=>{let s=e.termId;t.has(s)||t.set(s,[]),t.get(s)?.push({...e,status:"pending",prUrl:r.prUrl})})}),S=V.map(e=>{let r=t.get(e.id)||[];return{...e,status:"published",entries:r}}),e.forEach((e,r)=>{V.some(e=>e.id===r)||S.push({...e,entries:t.get(r)||[]})}),H[15]=ed,H[16]=V,H[17]=er,H[18]=S}else S=H[18];let eu=S;e:{let e;if(z){let e,t;if(H[19]!==z){let t=(0,u.default)(z);e=[...t?.n||[],...t?.v||[],...t?.adj||[],...t?.adv||[]],H[19]=z,H[20]=e}else e=H[20];let r=e;if(H[21]!==eu||H[22]!==r){let e,s;H[24]!==r?(e=e=>r.includes(e.id.split("-")[0]),H[24]=r,H[25]=e):e=H[25],H[26]!==eu?(s=e=>({term:e.id.split("-")[0],count:eu.filter(t=>t.id.startsWith(e.id.split("-")[0]+"-")).length}),H[26]=eu,H[27]=s):s=H[27],t=Array.from(new Map(eu.filter(e).map(s).filter($).map(I)).values()),H[21]=eu,H[22]=r,H[23]=t}else t=H[23];T=t;break e}H[28]===Symbol.for("react.memo_cache_sentinel")?(e=[],H[28]=e):e=H[28],T=e}let em=T;if(H[29]!==eu||H[30]!==z){t:{if(!eu){let e;H[32]===Symbol.for("react.memo_cache_sentinel")?(e=[],H[32]=e):e=H[32],O=e;break t}let e=z.toLowerCase();if(!e){O=eu;break t}let t=[...(0,u.default)(e)?.n||[],...(0,u.default)(e)?.v||[],...(0,u.default)(e)?.adj||[],...(0,u.default)(e)?.adv||[]];O=eu.filter(r=>r.id.toLowerCase().includes(e)||r.description.toLowerCase().includes(e)||t.some(e=>r.id.toLowerCase().includes(e))).sort((t,r)=>{let s=t.id.split("-")[0],l=r.id.split("-")[0];return(0,d.levenshtein)(s,e)-(0,d.levenshtein)(l,e)})}H[29]=eu,H[30]=z,H[31]=O}else O=H[31];let eh=O;H[33]!==eh||H[34]!==q?(R=eh.slice(0,q),H[33]=eh,H[34]=q,H[35]=R):R=H[35];let ep=R;H[36]!==ea||H[37]!==ee.script?(k=e=>{if(!e)return(0,t.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"(No votes on published entries)"});let r=ea&&"abugida"===ee.script?"font-abugida":ea&&"syllabary"===ee.script?"font-syllabary":"",s=Object.keys(e).filter(t=>null!==e[t]).map(t=>({category:t,translation:e[t]}));if(0===s.length)return(0,t.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"(No votes on published entries)"});if(1===s.length){let{category:e,translation:l}=s[0];return(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${r}`,children:(0,x.decode)(l,ea?ee.script:"latin")})]})}return 2===s.length?(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-4",children:s.map(e=>{let{category:s,translation:l}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:s.charAt(0).toUpperCase()+s.slice(1)}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${r}`,children:(0,x.decode)(l,ea?ee.script:"latin")})]},s)})}):(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Overall"}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${e.overall?r:""}`,children:e.overall?(0,x.decode)(e.overall,ea?ee.script:"latin"):"(No votes)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Minimal"}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${e.minimal?r:""}`,children:e.minimal?(0,x.decode)(e.minimal,ea?ee.script:"latin"):"(No votes)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Specific"}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${e.specific?r:""}`,children:e.specific?(0,x.decode)(e.specific,ea?ee.script:"latin"):"(No votes)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Humorous"}),(0,t.jsx)("p",{className:`text-lg font-medium text-blue-600 ${e.humorous?r:""}`,children:e.humorous?(0,x.decode)(e.humorous,ea?ee.script:"latin"):"(No votes)"})]})]})},H[36]=ea,H[37]=ee.script,H[38]=k):k=H[38];let ex=k;if(Z){let e;return H[39]!==eu?(e=(0,t.jsx)(g,{terms:eu}),H[39]=eu,H[40]=e):e=H[40],e}H[41]===Symbol.for("react.memo_cache_sentinel")?(A=e=>K(e.target.value),H[41]=A):A=H[41],H[42]!==J?(M=(0,t.jsx)("input",{type:"text",placeholder:"Search for a word or add a new one...",value:J,onChange:A,className:"flex-grow rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),H[42]=J,H[43]=M):M=H[43];let eg=`/new-term?name=${encodeURIComponent(J)}`;if(H[44]!==eg?(D=(0,t.jsx)(l.default,{href:eg,className:"rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700",children:"Submit New"}),H[44]=eg,H[45]=D):D=H[45],H[46]!==M||H[47]!==D?(P=(0,t.jsxs)("div",{className:"flex space-x-2",children:[M,D]}),H[46]=M,H[47]=D,H[48]=P):P=H[48],H[49]!==em||H[50]!==J?(W=em.filter(e=>e.term!=J).length>0&&(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Related search terms: ",em.filter(e=>e.term!=J).map(C).join(", ")]}),H[49]=em,H[50]=J,H[51]=W):W=H[51],H[52]!==el||H[53]!==ex||H[54]!==ep){let e;H[56]!==el||H[57]!==ex||H[58]!==ep.length?(e=(e,r)=>{let s=r===ep.length-1,n="pending"===e.status,a=e.entries?.some(_),i=e.isCurrentUserSubmitter,o=el.some(t=>"VOTE"===t.type&&t.payload.termId===e.id),c=el.some(t=>"NEW_ENTRY"===t.type&&t.payload.termId===e.id),d="border-gray-200";return c&&o?d="border-purple-400":c?d="border-green-400":o&&(d="border-blue-400"),n&&(d="border-yellow-400"),(0,t.jsxs)("div",{ref:s?ec:null,className:`rounded-lg border bg-white ${d}`,children:[n&&!i&&(0,t.jsxs)("div",{className:"p-2 bg-yellow-100 text-yellow-800 text-sm rounded-t-lg flex justify-between items-center",children:[(0,t.jsx)("span",{children:"This term is pending review."}),e.prUrl&&(0,t.jsx)("a",{href:e.prUrl,target:"_blank",rel:"noopener noreferrer",className:"font-bold hover:underline",children:"View PR"})]}),a&&!n&&(0,t.jsx)("div",{className:"p-2 bg-blue-100 text-blue-800 text-sm rounded-t-lg",children:"This term has pending translations."}),i&&n&&(0,t.jsx)("div",{className:"p-2 bg-green-100 text-green-800 text-sm rounded-t-lg",children:"You submitted this term."}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:e.id.split("-")[0]}),(0,t.jsxs)("p",{className:"mb-1 font-mono text-gray-500",children:["(",e.pos.slice(0,1),".)"]}),(0,t.jsx)("p",{className:"mb-4 text-gray-700 italic",children:e.description}),!n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"my-4 border-gray-100"}),(0,t.jsx)("h3",{className:"mb-3 text-sm font-semibold text-gray-500 uppercase",children:"Top Translations"}),ex(e.topTranslations)]}),(0,t.jsx)("hr",{className:"my-4 border-gray-100"}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,t.jsxs)(l.default,{href:`/new-term?name=${encodeURIComponent(e.id.split("-")[0])}`,className:"flex items-center space-x-1 text-xs text-gray-500 hover:text-blue-600 focus:outline-none",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:"Add alternative meaning"})]}),n?(0,t.jsx)("span",{className:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed",title:"Detail page not available for pending terms",children:"View Translations â†’"}):(0,t.jsxs)(l.default,{href:`/term/${e.id}`,className:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 flex items-center space-x-1",children:[(0,t.jsx)("span",{children:"Translations"}),(0,t.jsx)("span",{className:`inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-blue-100 rounded-full ${0===e.totalTranslationsCount?"bg-gray-400":"bg-blue-600"}`,children:e.totalTranslationsCount})]})]})]})]},e.id)},H[56]=el,H[57]=ex,H[58]=ep.length,H[59]=e):e=H[59],F=ep.map(e),H[52]=el,H[53]=ex,H[54]=ep,H[55]=F}else F=H[55];return H[60]!==z||H[61]!==eh.length?(Q=0===eh.length&&z&&(0,t.jsx)("div",{className:"text-center py-10",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No terms found matching your search."})}),H[60]=z,H[61]=eh.length,H[62]=Q):Q=H[62],H[63]!==F||H[64]!==Q?(Y=(0,t.jsxs)("div",{className:"mt-6 space-y-8",children:[F,Q]}),H[63]=F,H[64]=Q,H[65]=Y):Y=H[65],H[66]!==P||H[67]!==W||H[68]!==Y?(B=(0,t.jsxs)(t.Fragment,{children:[P,W,Y]}),H[66]=P,H[67]=W,H[68]=Y,H[69]=B):B=H[69],B}function _(e){return"pending"===e.status}function C(e){return`'${e.term}' (${e.count} translations)`}function I(e){return[e.term,e]}function $(e){return e.count>0}function U(e){return e.id}function L(e){return e+10}e.s(["default",()=>T],18073)}]);