(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44355,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),a=e.i(18566);function i(e,s){return(0,t.jsx)("button",{onClick:e.onClick,className:`px-5 py-2 rounded-lg ${e.className||"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.text},s)}e.s(["default",0,e=>{let n,r,o,d,c,m,u,h,x,g,b=(0,s.c)(33),{title:p,message:f,buttons:y,terms:j,onClose:v}=e,[N,S]=(0,l.useState)(null),w=(0,a.useRouter)();b[0]!==v||b[1]!==w||b[2]!==N?(n=()=>{N&&(w.push(`/new-term?existing-submission-term-id=${N}`),v())},b[0]=v,b[1]=w,b[2]=N,b[3]=n):n=b[3];let _=n;b[4]!==v||b[5]!==w||b[6]!==j?(r=()=>{j&&j.length>0&&(w.push(`/new-term?name=${encodeURIComponent(j[0].id.split("-")[0])}`),v())},b[4]=v,b[5]=w,b[6]=j,b[7]=r):r=b[7];let T=r;return b[8]!==p?(o=(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:p})}),b[8]=p,b[9]=o):o=b[9],b[10]!==f?(d=(0,t.jsx)("p",{className:"text-gray-600",children:f}),b[10]=f,b[11]=d):d=b[11],b[12]!==N||b[13]!==j?(c=j&&j.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Select one of the existing meanings to add a translation, or create an alternative meaning."}),j.map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",id:e.id,name:"term-selection",value:e.id,checked:N===e.id,onChange:e=>S(e.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,t.jsxs)("label",{htmlFor:e.id,className:"ml-3 block text-sm font-medium text-gray-700",children:["(",e.pos,") ",e.description]})]},e.id))]}),b[12]=N,b[13]=j,b[14]=c):c=b[14],b[15]!==d||b[16]!==c?(m=(0,t.jsxs)("div",{className:"p-6",children:[d,c]}),b[15]=d,b[16]=c,b[17]=m):m=b[17],b[18]!==y||b[19]!==T||b[20]!==_||b[21]!==N||b[22]!==j?(u=j&&j.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:_,className:"px-5 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:!N,children:"Translate"}),(0,t.jsx)("button",{onClick:T,className:"px-5 py-2 rounded-lg bg-gray-600 text-white hover:bg-gray-700",children:"Alternative Meaning"})]}):y?.map(i),b[18]=y,b[19]=T,b[20]=_,b[21]=N,b[22]=j,b[23]=u):u=b[23],b[24]!==v?(h=(0,t.jsx)("button",{onClick:v,className:"px-5 py-2 text-gray-700 bg-white border rounded-lg hover:bg-gray-50",children:"Cancel"}),b[24]=v,b[25]=h):h=b[25],b[26]!==u||b[27]!==h?(x=(0,t.jsx)("div",{className:"p-6 bg-gray-50 rounded-b-lg",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[u,h]})}),b[26]=u,b[27]=h,b[28]=x):x=b[28],b[29]!==o||b[30]!==m||b[31]!==x?(g=(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[o,m,x]})}),b[29]=o,b[30]=m,b[31]=x,b[32]=g):g=b[32],g}])},73942,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),a=e.i(18566),i=e.i(22016),n=e.i(30314),r=e.i(25660),o=e.i(82740),d=e.i(8587),c=e.i(75157),m=e.i(44355);function u(){let e,c,u,f,y,j,v,N,S,w,_,T,C,k,E,A,R,P,W,B,F,M,$,Q,D,I,L,U,O,q,K,Y,z,V,G,H,J,X=(0,s.c)(79),Z=(0,a.useRouter)(),ee=(0,a.useSearchParams)();X[0]!==ee?(e=ee.get("name")||"",X[0]=ee,X[1]=e):e=X[1];let et=e;X[2]!==ee?(c=ee.get("existing-submission-term-id"),X[2]=ee,X[3]=c):c=X[3];let es=c,{showToast:el}=(0,r.useToast)(),[ea,ei]=(0,l.useState)(et),[en,er]=(0,l.useState)(""),[eo,ed]=(0,l.useState)(""),[ec,em]=(0,l.useState)("");X[4]===Symbol.for("react.memo_cache_sentinel")?(u=[],X[4]=u):u=X[4];let[eu,eh]=(0,l.useState)(u),[ex,eg]=(0,l.useState)(null);X[5]===Symbol.for("react.memo_cache_sentinel")?(f=[],X[5]=f):f=X[5];let[eb,ep]=(0,l.useState)(f);X[6]===Symbol.for("react.memo_cache_sentinel")?(y=[],X[6]=y):y=X[6];let[ef,ey]=(0,l.useState)(y),[ej,ev]=(0,l.useState)(!1),[eN,eS]=(0,l.useState)(!1),[ew,e_]=(0,l.useState)(null),[eT,eC]=(0,l.useState)(!1);X[7]!==es||X[8]!==et?(j=()=>{let e,t=(0,n.getQueue)();if(es)e=t.filter(p).find(e=>e.payload.id===es);else if(et&&et.trim()){ei(et),er(""),ed(""),ey([]),eg(null);return}if(e){let s=e.payload;eg(s),ei(s.id.split("-")[0]),er(s.pos),ed(s.description),ey(t.filter(e=>"NEW_ENTRY"===e.type&&e.payload.termId===s.id).map(b))}else eg(null),ey([]),ei(et),er(""),ed("")},v=[es,et],X[7]=es,X[8]=et,X[9]=j,X[10]=v):(j=X[9],v=X[10]),(0,l.useEffect)(j,v),X[11]!==eo||X[12]!==ea?(N=()=>{let e=(0,n.getQueue)(),t=ea.trim();t&&eo?eC(!!e.filter(g).find(e=>e.payload.id.startsWith(t.toLowerCase().replace(/\s+/g,"-"))&&e.payload.description===eo)):eC(!1)},S=[ea,eo],X[11]=eo,X[12]=ea,X[13]=N,X[14]=S):(N=X[13],S=X[14]),(0,l.useEffect)(N,S),X[15]!==ec?(_=()=>{ec.trim()?eh((0,o.validateNounPhrase)(ec)):eh([])},w=[ec],X[15]=ec,X[16]=w,X[17]=_):(w=X[16],_=X[17]),(0,l.useEffect)(_,w),X[18]!==ex||X[19]!==eu||X[20]!==ec||X[21]!==ef?(T=e=>{if(e.preventDefault(),!ec.trim()||eu.length>0||!ex)return;let t=(0,d.encode)(ec),s={id:(0,d.encodeToSnakeCaseSyllabary)(t),termId:ex.id,contents:t,created:new Date().toISOString()};(0,n.addToQueue)({type:"NEW_ENTRY",payload:s}),ey([...ef,s]),em("")},X[18]=ex,X[19]=eu,X[20]=ec,X[21]=ef,X[22]=T):T=X[22];let ek=T;X[23]!==eo||X[24]!==eT||X[25]!==en||X[26]!==el||X[27]!==ea?(C=e=>{if(e.preventDefault(),eT)return;if(!ea||!en||!eo)return void el("Please fill out all fields.","error");let t={id:`${ea.toLowerCase().replace(/\s+/g,"-")}-${Math.random().toString(36).substring(2,7)}`,pos:en,description:eo};(0,n.addToQueue)({type:"NEW_TERM",payload:t}),e_(t),ev(!0)},X[23]=eo,X[24]=eT,X[25]=en,X[26]=el,X[27]=ea,X[28]=C):C=X[28];let eE=C;X[29]!==ew||X[30]!==Z||X[31]!==ej?(k=ej&&ew&&(0,t.jsx)(m.default,{title:"Term Added",message:"Would you like to add a translation for this term?",buttons:[{text:"Translate",onClick:()=>{ev(!1),Z.push(`/new-term?existing-submission-term-id=${ew.id}`)}}],onClose:()=>{ev(!1),Z.push("/")}}),X[29]=ew,X[30]=Z,X[31]=ej,X[32]=k):k=X[32],X[33]!==eb||X[34]!==ex||X[35]!==eN?(E=eN&&(0,t.jsx)(m.default,{title:"Term Exists",message:"This term is already in the submission queue.",terms:eb.length>0?eb:ex?[ex]:[],onClose:()=>{eS(!1),ep([]),eg(null)}}),X[33]=eb,X[34]=ex,X[35]=eN,X[36]=E):E=X[36],X[37]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)(i.default,{href:"/",className:"mb-4 block text-sm text-blue-600 hover:underline",children:"â† Back to all terms"}),X[37]=A):A=X[37],X[38]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Add a New Term Meaning"}),P=(0,t.jsx)("p",{className:"mt-1 text-gray-500",children:'This will create a new, distinct entry. (e.g., "Bank" as a noun "a financial institution" vs. "Bank" as a noun "a river side").'}),X[38]=R,X[39]=P):(R=X[38],P=X[39]),X[40]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsx)("label",{htmlFor:"term-name",className:"block text-sm font-medium text-gray-700",children:" Term "}),X[40]=W):W=X[40],X[41]===Symbol.for("react.memo_cache_sentinel")?(B=e=>ei(e.target.value),X[41]=B):B=X[41],X[42]!==ea?(F=(0,t.jsxs)("div",{children:[W,(0,t.jsx)("input",{type:"text",id:"term-name",value:ea,onChange:B,className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-2 focus:ring-blue-500"})]}),X[42]=ea,X[43]=F):F=X[43],X[44]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)("label",{htmlFor:"pos",className:"block text-sm font-medium text-gray-700",children:" Part of Speech "}),X[44]=M):M=X[44],X[45]===Symbol.for("react.memo_cache_sentinel")?($=e=>er(e.target.value),X[45]=$):$=X[45],X[46]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,t.jsx)("option",{value:"",children:"-- Select --"}),D=(0,t.jsx)("option",{value:"noun",children:"Noun (n.)"}),I=(0,t.jsx)("option",{value:"adjective",children:"Adjective (adj.)"}),L=(0,t.jsx)("option",{value:"verb",children:"Verb (v.)"}),U=(0,t.jsx)("option",{value:"adverb",children:"Adverb (adv.)"}),X[46]=Q,X[47]=D,X[48]=I,X[49]=L,X[50]=U):(Q=X[46],D=X[47],I=X[48],L=X[49],U=X[50]),X[51]!==en?(O=(0,t.jsxs)("div",{children:[M,(0,t.jsxs)("select",{id:"pos",value:en,onChange:$,className:"mt-1 w-full rounded-lg border border-gray-300 bg-white p-2",children:[Q,D,I,L,U]})]}),X[51]=en,X[52]=O):O=X[52],X[53]===Symbol.for("react.memo_cache_sentinel")?(q=(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:" Brief English Description "}),X[53]=q):q=X[53],X[54]===Symbol.for("react.memo_cache_sentinel")?(K=e=>ed(e.target.value),X[54]=K):K=X[54],X[55]!==eo?(Y=(0,t.jsxs)("div",{children:[q,(0,t.jsx)("textarea",{id:"description",rows:3,value:eo,onChange:K,placeholder:"e.g., 'Lasting for a very short time.'",className:"mt-1 w-full rounded-lg border border-gray-300 p-2"})]}),X[55]=eo,X[56]=Y):Y=X[56];let eA=eT||!ea||!en||!eo,eR=eT?"Already in submission queue":"Add to Submission Queue";return X[57]!==eA||X[58]!==eR?(z=(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full rounded-lg bg-blue-600 px-6 py-3 font-medium text-white hover:bg-blue-700 disabled:opacity-50",disabled:eA,children:eR})}),X[57]=eA,X[58]=eR,X[59]=z):z=X[59],X[60]!==eE||X[61]!==F||X[62]!==O||X[63]!==Y||X[64]!==z?(V=(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[R,P,(0,t.jsxs)("form",{onSubmit:eE,className:"mt-6 space-y-4",children:[F,O,Y,z]})]}),X[60]=eE,X[61]=F,X[62]=O,X[63]=Y,X[64]=z,X[65]=V):V=X[65],X[66]!==ex||X[67]!==ek||X[68]!==eu||X[69]!==ec||X[70]!==ef?(G=ex&&(0,t.jsxs)("div",{className:"mt-8 rounded-lg border border-gray-200 bg-white p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold",children:['Translations for "',ex.id.split("-")[0],'"']}),(0,t.jsxs)("p",{className:"mt-1 text-gray-500 italic",children:['"',ex.description,'"']}),(0,t.jsxs)("form",{onSubmit:ek,className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"translation",className:"block text-sm font-medium text-gray-700",children:" New Translation "}),(0,t.jsx)("input",{spellCheck:"false",type:"text",id:"translation",value:ec,onChange:e=>em(e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-2 focus:ring-blue-500"}),eu.length>0&&(0,t.jsx)("div",{className:"mt-2 text-sm text-red-600",children:(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{children:"Syntax errors found"}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:eu.map(x)})]})})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full rounded-lg bg-green-600 px-6 py-3 font-medium text-white hover:bg-green-700",disabled:!ec.trim()||eu.length>0,children:"Add Translation"})})]}),ef.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Pending Translations:"}),(0,t.jsx)("ul",{className:"list-disc list-inside mt-2",children:ef.map(h)})]})]}),X[66]=ex,X[67]=ek,X[68]=eu,X[69]=ec,X[70]=ef,X[71]=G):G=X[71],X[72]!==V||X[73]!==G?(H=(0,t.jsxs)("div",{className:"mx-auto max-w-xl",children:[A,V,G]}),X[72]=V,X[73]=G,X[74]=H):H=X[74],X[75]!==k||X[76]!==E||X[77]!==H?(J=(0,t.jsxs)("main",{className:"container mx-auto mt-8 p-4",children:[k,E,H]}),X[75]=k,X[76]=E,X[77]=H,X[78]=J):J=X[78],J}function h(e){return(0,t.jsx)("li",{children:(0,d.decode)(e.contents,"latin")},e.id)}function x(e,s){return(0,t.jsx)("li",{children:(0,c.decodeUnicode)(e.msg)},s)}function g(e){return"NEW_TERM"===e.type}function b(e){return e.payload}function p(e){return"NEW_TERM"===e.type}function f(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(u,{})}),a[0]=e):e=a[0],e}e.s(["default",()=>f])}]);